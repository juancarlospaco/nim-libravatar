# Nim-Libravatar

[Libravatar](https://www.libravatar.org) library for [Nim](https://nim-lang.org/learn.html), Gravatar alternative. Libravatar is an open source federated avatar api and service.

![Libravatar](https://wiki.libravatar.org/description/profile_fmarier.png)


# Features

- Your users nor you dont need a Libravatar account if you dont want to, because if Libravatar cant find you it redirects you to your Gravatar, if you have no Gravatar then it returns a default autogenerated image.
- Federation supported passing `baseUrl`, DNS server discovery is up to you if you want to, Pull Request welcome.
- 404 wont return 404, but a default image, use `default="404"` for a HTTP 404 Error.
- Uses `func` so is Size Effects Free.
- By design is also a Gravatar library :)


# Install

- `nimble install libravatar`
- [You can create an account for free, it only needs an email.](https://www.libravatar.org/accounts/new/)


# Use

```nim
echo getLibravatarUrl(email="me@aaronsw.com")
echo getLibravatarUrl(email="me@aaronsw.com", size=512, default="monsterid")
echo getLibravatarUrl(email="me@aaronsw.com", size=9, default="404", baseUrl="https://MyCustomFederatedServer.org/avatar/")
```


# Libravatar Vs Gravatar

<table class="border">
    <thead>
        <tr>
            <th>Feature</th>
            <th>Libravatar</th>
            <th>Gravatar</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>JPEG and <strong>PNG</strong> support</td>
            <td> Yes</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td>GIF support</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Upload size limit</td>
            <td> 10 MB</td>
            <td> ???</td>
        </tr>
        <tr>
            <td>Image size (in pixels)</td>
            <td> 1 to 512</td>
            <td> 2048</td>
        </tr>
        <tr>
            <td><strong>HTTPS</strong> support</td>
            <td> Yes</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td><strong>IPv6</strong> support</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Supported email hashes</td>
            <td> MD5, SHA256</td>
            <td> <a href="http://en.gravatar.com/site/faq/#answer-2-1">MD5 only</a></td>
        </tr>
        <tr>
            <td><strong>OpenID</strong> URL support</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Redirection to Gravatar</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Customizable default image</td>
            <td> Yes</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td>MPAA-style image ratings</td>
            <td> G-Rated only</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td>Text-based profile information</td>
            <td> No</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td><strong>Federation</strong> via DNS SRV records</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td><strong>LDAP</strong> authentication</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td><strong>OpenID</strong> authentication</td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Automatic photo <strong>importers</strong></td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Translated user interface</td>
            <td> Yes</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td>Account <strong>export</strong></td>
            <td> Yes</td>
            <td> No</td>
        </tr>
        <tr>
            <td>Account <strong>deletion</strong></td>
            <td> Yes</td>
            <td> <a href="http://en.gravatar.com/site/faq/#answer-1-7">No</a></td>
        </tr>
        <tr>
            <td>XML-RPC API</td>
            <td> No</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td>Libraries/plugins available</td>
            <td> Yes</td>
            <td> Yes</td>
        </tr>
        <tr>
            <td><strong>Free and Open Source software</strong></td>
            <td> <a href="http://www.gnu.org/licenses/agpl.html">Yes</a></td>
            <td> <a href="http://blog.gravatar.com/2010/05/31/gravatar-localization/#comment-8749">No</a></td>
        </tr>
        <tr>
            <td>Distributed service</td>
            <td> Community mirrors</td>
            <td> Commercial Proprietary</td>
        </tr>
        <tr>
            <td>Corporate owner</td>
            <td> No</td>
            <td> <a href="http://automattic.com/">Automattic</a></td>
        </tr>
    </tbody>
</table>
